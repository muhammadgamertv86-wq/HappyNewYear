<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Make a Wish</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&family=Playfair+Display:ital,wght@1,400;1,600&display=swap"
        rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --font-main: 'Outfit', sans-serif;
            --font-accent: 'Playfair Display', serif;
            --color-gold: #ffd700;
            --color-red: #ff4d4d;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        body {
            background-color: #0a0a0a;
            color: #ffffff;
            font-family: var(--font-main);
            min-height: 100vh;
            margin: 0;
            background: radial-gradient(circle at 50% 0%, #1a1a1a 0%, #000000 100%);
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem;
            cursor: pointer;
            /* Encourage clicking */
        }

        /* Ambient Background Balloons */
        .bg-balloon {
            position: fixed;
            border-radius: 50%;
            z-index: 5;
            animation: float 20s infinite linear;
            cursor: pointer;
            box-shadow: inset -10px -10px 0 rgba(0, 0, 0, 0.1);
            transition: transform 0.1s;
        }

        .bg-balloon:active {
            transform: scale(0.95);
        }

        /* String for balloon */
        .bg-balloon::before {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 40px;
            background: rgba(255, 255, 255, 0.3);
        }

        @keyframes float {
            0% {
                transform: translateY(110vh) rotate(0deg);
            }

            100% {
                transform: translateY(-10vh) rotate(360deg);
            }
        }

        /* Content Wrapper */
        .content-wrapper {
            position: relative;
            z-index: 10;
            width: 100%;
            max-width: 1200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 3rem;
        }

        /* Timer Section */
        .timer-container {
            text-align: center;
            margin-top: 2rem;
            animation: fadeInDown 1s ease-out;
            pointer-events: none;
            /* Let clicks pass through to balloons mostly */
        }

        .timer-label {
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 4px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 1rem;
        }

        .timer-display {
            font-family: var(--font-accent);
            font-size: 3rem;
            color: var(--color-gold);
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
            font-weight: 400;
        }

        @media (max-width: 768px) {
            .timer-display {
                font-size: 2rem;
            }
        }

        /* Cards Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            width: 100%;
        }

        .wish-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 2.5rem;
            text-align: center;
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
            /* equal height */
            animation: fadeInUp 1s ease-out backwards;
            position: relative;
            overflow: hidden;
        }

        /* Stagger animations */
        .wish-card:nth-child(1) {
            animation-delay: 0.2s;
        }

        .wish-card:nth-child(2) {
            animation-delay: 0.4s;
        }

        .wish-card:nth-child(3) {
            animation-delay: 0.6s;
        }

        .wish-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            background: rgba(255, 255, 255, 0.08);
        }

        .card-title {
            font-family: var(--font-accent);
            font-size: 1.8rem;
            color: var(--color-red);
            margin-bottom: 1.5rem;
        }

        .card-text {
            font-size: 1rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 2rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 300;
        }

        .read-more-btn {
            background: transparent;
            border: 1px solid var(--color-gold);
            color: var(--color-gold);
            padding: 0.8rem 2rem;
            border-radius: 30px;
            cursor: pointer;
            font-family: var(--font-main);
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 0.9rem;
            transition: all 0.3s;
            align-self: center;
        }

        .read-more-btn:hover {
            background: var(--color-gold);
            color: #000;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
        }

        /* Celebrate Button */
        #celebrate-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(45deg, #ff4d4d, #ff9a9e);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(255, 77, 77, 0.6);
            z-index: 100;
            transition: transform 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #celebrate-btn:hover {
            transform: scale(1.1) rotate(10deg);
        }

        /* Stickers */
        .sticker {
            position: absolute;
            pointer-events: none;
            opacity: 0.15;
            animation: floatSticker 10s ease-in-out infinite alternate;
        }

        @keyframes floatSticker {
            from {
                transform: translateY(0);
            }

            to {
                transform: translateY(-20px);
            }
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>

    <!-- Audio -->
    <audio id="pop-sound" src="https://assets.mixkit.co/active_storage/sfx/3069/3069-preview.mp3"></audio>
    <audio id="fireworks-sound" src="https://assets.mixkit.co/active_storage/sfx/2994/2994-preview.mp3"></audio>

    <!-- Background Decoration -->
    <div id="balloon-bg"></div>

    <!-- Celebration Trigger -->
    <button id="celebrate-btn" title="Celebrate!">üéÜ</button>

    <div class="content-wrapper">
        <div class="timer-container">
            <div class="timer-label">We've been together for</div>
            <div class="timer-display" id="relationship-timer">Calculating...</div>
        </div>

        <div class="cards-grid">
            <!-- Card 1: Future -->
            <div class="wish-card">
                <div class="sticker" style="top: -20px; right: -20px; font-size: 5rem;">‚ú®</div>
                <div>
                    <h2 class="card-title">Our Future (Inshallah)</h2>
                    <p class="card-text">
                        MAY ALLAH WRITE U IN MY NASEEB <br>
                        AND MAY WE HAVE THE FUTURE WE <br>
                        BOTH PLANNED FOR.
                    </p>
                </div>
                <button class="read-more-btn" onclick="unlock('future')">Read More</button>
            </div>

            <!-- Card 2: 2025 -->
            <div class="wish-card">
                <div class="sticker" style="bottom: -20px; left: -20px; font-size: 5rem; transform: rotate(180deg);">üéâ
                </div>
                <div>
                    <h2 class="card-title">Our 2025 (Alhamdulillah)</h2>
                    <p class="card-text">
                        WHAT A YEAR IT HAS BEEN <br>
                        WE EVEN STARTED UNI TOGETHER <br>
                        YEYEYEY ALHAMDULLILAH
                    </p>
                </div>
                <button class="read-more-btn" onclick="unlock('2025')">Read More</button>
            </div>

            <!-- Card 3: Story -->
            <div class="wish-card">
                <div class="sticker" style="top: 50%; right: -30px; font-size: 4rem;">‚ù§Ô∏è</div>
                <div>
                    <h2 class="card-title">Our Story</h2>
                    <p class="card-text">
                        THIS IS HOW I MET THE LOVE OF MY LIFE <br>
                        AND HOW IT HAS BEEN EVER AFTER.
                    </p>
                </div>
                <button class="read-more-btn" onclick="unlock('story')">Read More</button>
            </div>


        </div>
    </div>


    <!-- Navigation Buttons -->
    <div class="nav-container">
        <a href="game.html" class="nav-btn-game">üéÆ GAME</a>
        <button class="nav-btn-duniya" onclick="unlock('duniya')">WHAT U MEAN TO ME...</button>
    </div>

    <!-- Daily Reason Button -->
    <button class="daily-reason-btn" onclick="showDailyReason()">THE DAILY REASON</button>


    <style>
        .nav-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            pointer-events: none;
            z-index: 1000;
        }

        .nav-btn-game,
        .nav-btn-duniya {
            position: fixed;
            top: 20px;
            pointer-events: auto;
            background: rgba(20, 20, 20, 0.6);
            border: 1px solid var(--color-gold);
            padding: 10px 20px;
            color: var(--color-gold);
            border-radius: 30px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            font-family: var(--font-main);
            font-weight: 700;
            letter-spacing: 1px;
            transition: all 0.3s;
            text-decoration: none;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);
            font-size: 0.9rem;
        }

        .nav-btn-game {
            left: 20px;
            border-color: var(--color-red);
            color: var(--color-red);
        }

        .nav-btn-duniya {
            right: 20px;
        }

        .daily-reason-btn {
            position: fixed;
            bottom: 30px;
            left: 30px;
            z-index: 100;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--color-gold);
            padding: 12px 24px;
            color: var(--color-gold);
            border-radius: 30px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            font-family: var(--font-main);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.3s;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.1);
        }

        .daily-reason-btn:hover {
            background: var(--color-gold);
            color: #000;
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.4);
        }

        .nav-btn-game:hover {
            background: var(--color-red);
            color: #fff;
            transform: translateY(-2px);
        }

        .nav-btn-duniya:hover {
            background: var(--color-gold);
            color: #000;
            transform: translateY(-2px);
        }

        @media (max-width: 600px) {

            .nav-btn-game,
            .nav-btn-duniya {
                top: 10px;
                padding: 8px 12px;
                font-size: 0.75rem;
            }

            .nav-btn-game {
                left: 10px;
            }

            .nav-btn-duniya {
                right: 10px;
            }

            .daily-reason-btn {
                bottom: 20px;
                left: 20px;
                padding: 10px 15px;
                font-size: 0.7rem;
            }

            .timer-display {
                font-size: 1.8rem !important;
            }

            .wish-card {
                padding: 1.5rem !important;
            }
        }

        /* Password Modal */
        #pass-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            z-index: 2000;
            display: none;
            /* Forced hidden */
            justify-content: center;
            align-items: center;
        }

        #pass-modal.show {
            display: flex;
            /* Show only when requested */
        }

        .premium-glass {
            background: #0a0a0a;
            border: 2px solid var(--color-gold);
            padding: 3rem 2rem;
            border-radius: 25px;
            text-align: center;
            width: 400px;
            max-width: 90%;
            box-shadow: 0 0 50px rgba(255, 215, 0, 0.15);
            position: relative;
        }

        .pass-input {
            width: 100%;
            padding: 1.2rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.05);
            color: white;
            font-family: var(--font-main);
            font-size: 1.3rem;
            outline: none;
            text-align: center;
            margin: 2rem 0;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.5);
            font-size: 2rem;
            cursor: pointer;
        }

        /* Daily Reason Modal */
        #reason-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(25px);
            z-index: 3000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }

        #reason-modal.show {
            display: flex;
            animation: fadeIn 0.4s ease-out;
        }

        .reason-content {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--color-gold);
            padding: 4rem 2rem;
            border-radius: 40px;
            text-align: center;
            position: relative;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 0 100px rgba(255, 215, 0, 0.1);
        }

        #reason-text {
            font-family: var(--font-accent);
            font-size: 2.2rem;
            line-height: 1.4;
            color: white;
            font-style: italic;
        }

        .close-reason {
            position: absolute;
            top: 20px;
            right: 25px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.3);
            font-size: 2.5rem;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close-reason:hover {
            color: white;
        }
    </style>


    <!-- Daily Reason Modal -->
    <div id="reason-modal">
        <div class="reason-content">
            <button class="close-reason" onclick="closeReason()">√ó</button>
            <div id="reason-text">Loading...</div>
            <button class="read-more-btn" style="margin-top: 3rem;" onclick="showDailyReason()">Next Reason ‚ú®</button>
        </div>
    </div>

    <!-- Password Modal -->
    <div id="pass-modal">
        <div class="premium-glass">
            <button class="close-btn" onclick="closeAuth()">√ó</button>
            <h2 class="card-title" id="auth-title" style="color: var(--color-red);">Security Check üîí</h2>
            <p id="auth-hint" style="color: rgba(255,255,255,0.7); font-style: italic; margin-top: 1rem;">Hint: ...</p>

            <input type="text" id="pass-input" placeholder="Enter Password" class="pass-input">
            <p id="auth-error" style="color: var(--color-red); display:none; margin-top:0.5rem; font-weight: bold;">
                Incorrect Password!</p>

            <button class="read-more-btn" style="margin-top: 1rem; width: 100%;" onclick="verifyPass()">UNLOCK</button>
        </div>
    </div>

    <script>
        // Auth Logic
        let currentTarget = null;

        const contentData = {
            'future': { pass: 'forever', hint: 'life long', url: 'future.html' },
            'story': { pass: '05', hint: 'the date we met only the date', url: 'story.html' },
            '2025': { pass: 'tmuc', hint: 'our uni', url: '2025.html' },
            'duniya': { pass: 'duniya', hint: 'everything', url: 'duniya.html' }
        };

        function unlock(type) {
            currentTarget = type;
            const data = contentData[type];
            document.getElementById('auth-hint').innerText = `Hint: ${data.hint}`;
            const modal = document.getElementById('pass-modal');
            modal.classList.add('show');
            document.getElementById('pass-input').value = '';
            document.getElementById('auth-error').style.display = 'none';
            document.getElementById('pass-input').focus();
        }

        function closeAuth() {
            document.getElementById('pass-modal').classList.remove('show');
        }

        function verifyPass() {
            const input = document.getElementById('pass-input').value.toLowerCase().trim();
            const data = contentData[currentTarget];

            if (input === data.pass) {
                // Correct
                window.location.href = data.url;
            } else {
                // Incorrect
                const err = document.getElementById('auth-error');
                err.style.display = 'block';
                err.classList.add('shake');
                setTimeout(() => err.classList.remove('shake'), 500);
            }
        }

        // Enter key support
        document.getElementById('pass-input').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') verifyPass();
        });

        // Daily Reasons Feature
        const dailyReasons = [
            "I love how your eyes spark when you're excited.",
            "You are my literal life, my soulmate.",
            "I love you more than words can ever describe.",
            "You make every single day feel like a celebration.",
            "Your smile is the only light I ever need.",
            "I love the way we've grown together this year.",
            "You are the most beautiful person I have ever known.",
            "Every heartbeat of mine belongs to you.",
            "I love how we can talk about anything and everything.",
            "You are my dream come true, Alhamdulillah.",
            "I love your kind heart and your beautiful soul.",
            "My life became perfect the moment you stepped into it.",
            "I love the way you love me.",
            "You are my peace in this chaotic world.",
            "I love our little inside jokes and laughs.",
            "You are my forever and always.",
            "I love how you make me a better person.",
            "You're my favorite person to spend time with.",
            "I love the future we are building together.",
            "You are my everything, my duniya.",
            "I love you for your mind, your heart, and your spirit.",
            "Every day with you is a new adventure I cherish.",
            "I love the way you challenge me to grow.",
            "You're the missing piece to my soul's puzzle.",
            "I love how you understand me without a single word.",
            "You are the greatest blessing Allah has given me.",
            "I love the sound of your laughter more than anything.",
            "You're my safe haven, my home.",
            "I love the way you believe in me.",
            "You are the reason for all my happiness.",
            "I simply love you, for all that you are."
        ];

        let lastReasonIndex = -1;

        function showDailyReason() {
            let randomIndex;
            do {
                randomIndex = Math.floor(Math.random() * dailyReasons.length);
            } while (randomIndex === lastReasonIndex);

            lastReasonIndex = randomIndex;

            document.getElementById('reason-text').innerText = dailyReasons[randomIndex];
            document.getElementById('reason-modal').classList.add('show');
        }

        function closeReason() {
            document.getElementById('reason-modal').classList.remove('show');
        }


        // 1. Timer Logic (Persisted)
        // Fixed Start Date: May 5, 2024 11:10:26 AM UTC
        const startDate = new Date("2024-05-05T11:10:26.814Z");

        function updateTimer() {
            const now = new Date();
            const diff = now - startDate;

            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);

            let timeString = `${d} Days ${h} Hours ${m} Minutes ${s} Seconds`;
            document.getElementById('relationship-timer').innerText = timeString;
        }

        setInterval(updateTimer, 1000);
        updateTimer();

        // 2. Interactive Balloons (Background)
        const balloonContainer = document.getElementById('balloon-bg');
        const colors = ['#FF4D4D', '#FFD700', '#FF69B4', '#87CEEB', '#FFFFFF'];
        const popSound = document.getElementById('pop-sound');

        function createBalloon() {
            const balloon = document.createElement('div');
            balloon.className = 'bg-balloon';

            // Random heart variety
            const isHeart = Math.random() > 0.7;
            if (isHeart) {
                balloon.innerHTML = '‚ù§Ô∏è';
                balloon.style.fontSize = '30px';
                balloon.style.display = 'flex';
                balloon.style.justifyContent = 'center';
                balloon.style.alignItems = 'center';
                balloon.style.background = 'transparent';
                balloon.style.boxShadow = 'none';
            } else {
                const colors = ['#ff4d4d', '#ffd700', '#ff69b4', '#ff1493', '#ffa500'];
                balloon.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                balloon.style.width = Math.random() * 30 + 30 + 'px';
                balloon.style.height = balloon.style.width;
            }

            balloon.style.left = Math.random() * 100 + 'vw';
            const duration = Math.random() * 10 + 10;
            balloon.style.animationDuration = duration + 's';
            balloon.style.opacity = Math.random() * 0.5 + 0.3;

            balloon.onclick = (e) => {
                popSound.currentTime = 0;
                popSound.play();
                popBalloon(balloon, e.clientX, e.clientY); // Call the existing popBalloon function
                balloon.remove();
            };

            balloonContainer.appendChild(balloon); // Append to balloonContainer as in original
            setTimeout(() => { if (balloon.parentNode) balloon.remove(); }, duration * 1000);
        }

        function popBalloon(el, x, y) {
            popSound.cloneNode().play();
            // Use a default color for confetti if the balloon is a heart (transparent background)
            const confettiColors = el.style.background === 'transparent' ? ['#FF4D4D', '#FFD700', '#FF69B4'] : [el.style.background];
            confetti({ particleCount: 30, spread: 50, origin: { x: x / window.innerWidth, y: y / window.innerHeight }, colors: confettiColors });
            el.remove();
        }
        setInterval(createBalloon, 1500);
        for (let i = 0; i < 8; i++) createBalloon();


        // 3. Fireworks & Celebration
        const celebrateBtn = document.getElementById('celebrate-btn');
        const fireworksSound = document.getElementById('fireworks-sound');

        celebrateBtn.addEventListener('click', () => { triggerMegaFireworks(); });
        function triggerConfetti(btn) {
            const rect = btn.getBoundingClientRect();
            confetti({ particleCount: 50, spread: 60, origin: { x: (rect.left + rect.width / 2) / window.innerWidth, y: (rect.top + rect.height / 2) / window.innerHeight } });
        }
        function triggerMegaFireworks() {
            fireworksSound.currentTime = 0; fireworksSound.play();
            const duration = 3000; const animationEnd = Date.now() + duration;
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };
            const randomInRange = (min, max) => Math.random() * (max - min) + min;
            const interval = setInterval(function () {
                const timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) return clearInterval(interval);
                const particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
        }
    </script>
</body>

</html>