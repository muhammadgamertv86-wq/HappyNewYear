<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Our Future</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700&family=Playfair+Display:ital,wght@1,400;1,600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <style>
        body {
            display: block !important;
            height: auto !important;
            min-height: 100vh;
            padding: 2rem 1rem !important;
            /* Reduced top padding */
            color: #fff;
            background: #0a0a0a;
            position: relative;
            overflow-y: auto !important;
            /* Disable global centering */
            align-items: flex-start !important;
            justify-content: flex-start !important;
        }

        /* Force scroll to top on load */
        .container {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            z-index: 10;
        }

        h1 {
            color: var(--color-gold);
            font-family: var(--font-accent);
            font-size: 3.5rem;
            text-align: center;
            margin-bottom: 3rem;
        }

        .content-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 215, 0, 0.1);
            padding: 2.5rem;
            border-radius: 20px;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
            line-height: 1.8;
            font-size: 1.1rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            white-space: pre-wrap;
            /* Preserve user line breaks */
            text-transform: uppercase;
            /* Capitalize all letters */
        }

        .highlight-footer {
            text-align: center;
            margin-top: 3rem;
            font-family: var(--font-accent);
            color: var(--color-gold);
            font-size: 2rem;
            line-height: 1.5;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
            white-space: pre-line;
            border-top: 1px solid rgba(255, 215, 0, 0.3);
            padding-top: 2rem;
        }

        .center-btn {
            text-align: center;
            margin-top: 3rem;
            margin-bottom: 3rem;
        }

        /* Mobile Adjustments */
        @media (max-width: 600px) {
            .container {
                padding: 0 10px;
            }

            h1 {
                font-size: 2.2rem;
                margin-bottom: 2rem;
            }

            .content-card {
                padding: 1.5rem;
                font-size: 0.95rem;
            }

            .highlight-footer {
                font-size: 1.4rem;
                padding-top: 1.5rem;
            }
        }
    </style>
</head>

<body>
    <div id="balloon-bg" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;"></div>

    <div class="container">
        <h1>Our Future</h1>

        <!-- Music Player -->
        <div class="music-player">
            <div class="vinyl-container">
                <div class="vinyl-record" id="vinyl"></div>
            </div>
            <div class="player-info">
                <div class="player-title">Khushnaseebi</div>
                <div class="player-artist">Abdul Hannan</div>
                <div class="player-controls">
                    <button class="play-pause-btn" id="playBtn">‚ñ∂</button>
                    <div class="progress-container" id="progressContainer">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                </div>
            </div>
        </div>

        <audio id="bgMusic" src="khushnaseebi.mp3"></audio>

        <div class="content-card">Honestly Ive planned my entire life with You
            And we have to execute it no matter what
            Were meant to be and ill make everything worth it for the love of my life
            Pata i have planned bas so many surprises for u when we get married
            Khair Abhi Ive got time till 7march to prove myself which i will
            Cuz honestly ik itll make u happy and confident and me will be the bestestest birthday gift and i want to
            prove myself too this is my last chance and ill execute it inshallah Zindagi na tum meri
            Pata When u started considering me ur husband phir idk the emotions idk how to explain them i was the
            happiest man alive still am
            I wonder the emotions when i meet ur parents and they accept and we plan shadi and then seeing You as My
            bride Inshallah üò≠‚ù§Ô∏è
            And then
            Having Lana Zizu With u Doing my Entire life with you
            Growing old with u but never getting out of of the honey moon phase
            Getting to hug u kiss u whenever u want living my life with u
            Bardashting ur ghussa
            Man i want this life
            To have fun with u to do sharatien with u
            In short everything in life with u üò≠
            (Fighting over who changes the pampers) jk ill ik u hate
            Aur b cheezin likhta magar mimi na parhle üòî jk no filters
            I love U Moshi Mwauh üòâ

            I love you I love you More than Anything
            So My Dear Moshi (and the Thirdwheeler thats gonna read this)
            Please Pray That:
            May Allah Write u In my Naseeb
            May Allah make me worthy of it all
            May Allah make me worthy of giving u a better life than the one youre in rn
            May Allah Make me worthy of gifting u A G wagon on our Shadi surprisingly when u least expect it
            Most Importantly May Allah make me worthy of understanding and Keeping u happy Ameen ‚ù§Ô∏è
            Wesy A lifetime feels too less with u Ill ask for u In jannah Youre my person ‚ù§Ô∏è</div>

        <div class="highlight-footer">Roshi 605 days Gone
            Forever to go
            Inshallah Ameen</div>

        <!-- Scratch Card Section -->
        <div class="scratch-card-wrapper">
            <div class="scratch-card-content">
                You win a DINNER DATE<3 </div>
                    <canvas id="scratch-canvas" class="scratch-card-canvas" width="320" height="160"></canvas>
            </div>
            <p class="scratch-instruction">Scratch the gold to reveal your prize... ‚ú®</p>

            <div class="center-btn">
                <a href="wish.html"
                    style="color: var(--color-gold); text-decoration: none; border: 1px solid var(--color-gold); padding: 12px 30px; border-radius: 30px; text-transform: uppercase; letter-spacing: 2px;">Back
                    to Wishes</a>
            </div>
        </div>
        <script>
            if ('scrollRestoration' in history) {
                history.scrollRestoration = 'manual';
            }
            window.scrollTo(0, 0);

            // Scratch Card Logic
            const canvas = document.getElementById('scratch-canvas');
            const ctx = canvas.getContext('2d', { willReadFrequently: true });
            let isDrawing = false;

            function init() {
                const grad = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
                grad.addColorStop(0, '#D4AF37');
                grad.addColorStop(0.5, '#FFD700');
                grad.addColorStop(1, '#D4AF37');
                ctx.fillStyle = grad;
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.fillStyle = "rgba(0,0,0,0.4)";
                ctx.font = "bold 20px Outfit";
                ctx.textAlign = "center";
                ctx.fillText("SCRATCH ME", canvas.width / 2, canvas.height / 2 + 7);
            }

            function scratch(e) {
                if (!isDrawing) return;
                e.preventDefault();
                const rect = canvas.getBoundingClientRect();
                const x = (e.clientX || e.touches[0].clientX) - rect.left;
                const y = (e.clientY || e.touches[0].clientY) - rect.top;

                ctx.globalCompositeOperation = 'destination-out';
                ctx.beginPath();
                ctx.arc(x, y, 20, 0, Math.PI * 2);
                ctx.fill();
                checkPercent();
            }

            function checkPercent() {
                const pixels = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
                let transparent = 0;
                for (let i = 0; i < pixels.length; i += 4) {
                    if (pixels[i + 3] === 0) transparent++;
                }
                if (transparent / (pixels.length / 4) > 0.5) {
                    canvas.classList.add('hidden');
                    if (window.confetti) {
                        confetti({
                            particleCount: 150,
                            spread: 70,
                            origin: { y: 0.7 },
                            colors: ['#FFD700', '#FFFFFF', '#FF4D4D']
                        });
                    }
                }
            }

            canvas.addEventListener('mousedown', () => isDrawing = true);
            canvas.addEventListener('touchstart', () => isDrawing = true);
            window.addEventListener('mouseup', () => isDrawing = false);
            window.addEventListener('touchend', () => isDrawing = false);
            canvas.addEventListener('mousemove', scratch);
            canvas.addEventListener('touchmove', scratch);
            init();

            // Music Player Logic
            const audio = document.getElementById('bgMusic');
            const playBtn = document.getElementById('playBtn');
            const vinyl = document.getElementById('vinyl');
            const progressBar = document.getElementById('progressBar');
            const progressContainer = document.getElementById('progressContainer');

            playBtn.addEventListener('click', () => {
                if (audio.paused) {
                    audio.play();
                    playBtn.innerText = '‚è∏';
                    vinyl.classList.add('playing');
                } else {
                    audio.pause();
                    playBtn.innerText = '‚ñ∂';
                    vinyl.classList.remove('playing');
                }
            });

            audio.addEventListener('timeupdate', () => {
                const percent = (audio.currentTime / audio.duration) * 100;
                progressBar.style.width = percent + '%';
            });

            progressContainer.addEventListener('click', (e) => {
                const rect = progressContainer.getBoundingClientRect();
                const pos = (e.clientX - rect.left) / rect.width;
                audio.currentTime = pos * audio.duration;
            });

            audio.addEventListener('ended', () => {
                playBtn.innerText = '‚ñ∂';
                vinyl.classList.remove('playing');
                progressBar.style.width = '0%';
            });
        </script>
        <script src="main.js"></script>
</body>

</html>